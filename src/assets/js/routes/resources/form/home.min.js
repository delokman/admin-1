!function(){"use strict";var P=window.tabId,t=function(){var i=$("#app-tab-"+P),s=0,c=0,l=0,u=i.find("#cards-graphs-amount").find("#dayAmount"),t=i.find("#home-cards"),r=t.find("#home-name"),o=t.find("#home-object"),e=t.find("#home-id"),a=localStorage.getItem("store_id"),f=i.find("#lastOrders").find("#addOrders"),d=i.find("#approved"),g=i.find("#monthAmount"),n=new Date,m=n.getDate()-1,b=n.getMonth(),p=n.getFullYear(),h=(new Date).getTimezoneOffset(),v=0,w=0,_=0,x=new Date(p,b,m,0,-h,0,0).toISOString(),A=new Date(p,b,m,23,59-h,59,0).toISOString(),y=new Date(p,b,1,0,-h,0,0).toISOString(),S=new Date(p,b,31,23,59-h,59,0).toISOString(),O="orders.json?sort=amount&created_at>="+x+"&created_at<="+A,D="orders.json?sort=amount&created_at>="+y+"&created_at<="+S,I=[];e.text(a);window.callApi("stores/me.json","GET",function(t,e){if(!t){var a=e.name;r.text(a);var n=e._id;o.text(n)}}),$(document).ready(function(){setTimeout(function(){window.callApi(O,"GET",function(t,e){if(!t){var a=e.result;if(console.log(a),0===!a.length){i.find("#cards-graphs-orders").show();for(var n=0;n<a.length;n++)if(a[n].financial_status){var r=a[n].financial_status.current;I.push(r);for(var o=0;o<I.length;o++)"paid"===I[o]&&(I[o]="Pagamento Aprovado"),"voided"===I[o]&&(I[o]="Pagamento Cancelado"),"pending"===I[o]&&(I[o]="Pagamento Pendente");n<6&&f.append('<tr>  <th scope="row"><a href="/#/resources/orders/'+a[n]._id+' ">'+a[n].number+" </a></th>  <td>"+I[n]+"</td>  <td> R$ "+a[n].amount.total.toFixed(2)+'</td>  <td><a href="/#/resources/customers/'+a[n].buyers[0]._id+' ">'+a[n].buyers[0].display_name+" </a></td></tr>");var d=a[n].financial_status.current;v=a[n].amount.total+v,u.text(v.toFixed(2).replace(".",",")),"paid"===d&&(c+=1),"voided"===d&&(l+=1),"pending"===d&&(s+=1),T(c,s,l)}else n+=1}}})},100)}),$(document).ready(function(){setTimeout(function(){window.callApi(D,"GET",function(t,e){if(!t)for(var a=e.result,n=0;n<a.length;n++)if(a[n].financial_status){var r=a.length;if("paid"===a[n].financial_status.current){_=a[n].amount.total+_,g.text(_.toFixed(2).replace(".",","));var o=((w+=1)/r*100).toFixed(2);d.text(o)}}})},500)});var T=function(){var t=document.getElementById("orderOfAll");new Chart(t,{type:"bar",data:{labels:["Aprovados","Pendentes","Cancelados"],datasets:[{label:"Pedidos",data:[c,s,l],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}};window.Tabs[P].$form?t():$(document).one("form-"+P,t)}();