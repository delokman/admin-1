!function(){"use strict";window.lang;var _=window.tabId,e=window.Tabs[_],t=(e.commit,function(){var e=$("#app-tab-"+_),i=0,s=0,l=0,g=e.find("#cards-graphs-amount").find("#dayAmount"),t=e.find("#home-cards"),n=t.find("#home-name"),o=t.find("#home-object"),a=t.find("#home-id"),r=localStorage.getItem("store_id"),c=e.find("#lastOrders").find("#addOrders"),f=e.find("#freight"),d=new Date,u=(d.getDate(),d.getMonth(),d.getFullYear()),m=(new Date).getTimezoneOffset(),b=0,p=0,h="orders.json?sort=amount&created_at>="+new Date(u,2,25,0,-m,0,0).toISOString()+"&created_at<="+new Date(u,2,25,24,59-m,0,0).toISOString(),w=[];a.text(r);window.callApi("stores/me.json","GET",function(e,t){if(!e){var a=t.name;n.text(a);var r=t._id;o.text(r)}}),window.callApi(h,"GET",function(e,t){if(!e){var a=t.result;console.log(a);for(var r=0;r<a.length;r++)if(a[r].financial_status){var n=a[r].financial_status.current;w.push(n);for(var o=0;o<w.length;o++)"paid"===w[o]&&(w[o]="Pagamento Aprovado"),"voided"===w[o]&&(w[o]="Pagamento Cancelado"),"pending"===w[o]&&(w[o]="Pagamento Pendente");r<6&&c.append('<tr>  <th scope="row"><a href="/#/resources/orders/'+a[r]._id+' ">'+a[r].number+" </a></th>  <td>"+w[r]+"</td>  <td>"+a[r].amount.total.toFixed(2)+'</td>  <td><a href="/#/resources/customers/'+a[r].buyers[0]._id+' ">'+a[r].buyers[0].display_name+" </a></td></tr>");var d=a[r].financial_status.current;b=a[r].amount.total+b,p=a[r].amount.freight+p,f.text(p.toFixed(2).replace(".",",")),g.text(b.toFixed(2).replace(".",",")),"paid"===d&&(s+=1),"voided"===d&&(l+=1),"pending"===d&&(i+=1),v(s,i,l)}else r+=1}});var v=function(){var e=document.getElementById("orderOfAll");new Chart(e,{type:"bar",data:{labels:["Aprovados","Pendentes","Cancelados"],datasets:[{label:"Pedidos",data:[s,i,l],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}});e.$form?t():$(document).one("form-"+_,t)}();