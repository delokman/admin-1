!function(){"use strict";var I=window.tabId,e=function(){var d=$("#app-tab-"+I),i=0,s=0,c=0,u=d.find("#cards-graphs-amount").find("#dayAmount"),e=d.find("#home-cards"),n=e.find("#home-name"),o=e.find("#home-object"),t=e.find("#home-id"),a=localStorage.getItem("store_id"),l=d.find("#lastOrders").find("#addOrders"),f=d.find("#approved"),g=d.find("#monthAmount"),r=new Date,b=r.getDate(),m=r.getMonth(),p=r.getFullYear(),h=(new Date).getTimezoneOffset(),v=0,w=0,_=0,x=new Date(p,m,b,0,-h,0,0).toISOString(),y=new Date(p,m,b,23,59-h,59,0).toISOString(),A=new Date(p,m,1,0,-h,0,0).toISOString(),D=new Date(p,m,31,23,59-h,59,0).toISOString(),S="orders.json?sort=amount&created_at>="+x+"&created_at<="+y,O="orders.json?sort=amount&created_at>="+A+"&created_at<="+D;t.text(a);window.callApi("stores/me.json","GET",function(e,t){if(!e){var a=t.name;n.text(a);var r=t._id;o.text(r)}}),$(document).ready(function(){setTimeout(function(){window.callApi(S,"GET",function(e,t){if(!e){var a=t.result;if(a.length){d.find("#cards-graphs-orders").show();for(var r=0;r<a.length;r++)if(v=a[r].amount.total+v,u.text(v.toFixed(2).replace(".",",")),a[r].financial_status){var n=[];switch(n.push(a[r]._id,a[r].number,a[r].financial_status.current,a[r].amount.total.toFixed(2).replace(".",","),a[r].buyers[0]._id,a[r].buyers[0].display_name),n[2]){case"under_analysis":n[2]="Em anÃ¡lise";break;case"pending":n[2]="Pendente";break;case"refunded":n[2]="Devolvido";break;case"paid":n[2]="Aprovado";break;case"in_dispute":n[2]="Disputa";break;case"voided":n[2]="Cancelado"}l.append('<tr>  <th scope="row"><a href="/#/resources/orders/'+n[0]+' ">'+n[1]+" </a></th>  <td>"+n[2]+"</td>  <td> R$ "+n[3]+'</td>  <td><a href="/#/resources/customers/'+n[4]+' ">'+n[5]+" </a></td></tr>");var o=a[r].financial_status.current;"paid"===o&&(s+=1),"voided"===o&&(c+=1),"pending"===o&&(i+=1),k(s,i,c)}else r+=1}}})},100)}),$(document).ready(function(){setTimeout(function(){window.callApi(O,"GET",function(e,t){if(!e)for(var a=t.result,r=0;r<a.length;r++)if(a[r].financial_status){var n=a.length;if("paid"===a[r].financial_status.current){_=a[r].amount.total+_,g.text(_.toFixed(2).replace(".",","));var o=((w+=1)/n*100).toFixed(2);f.text(o)}}})},500)});var k=function(){var e=document.getElementById("orderOfAll");new Chart(e,{type:"bar",data:{labels:["Aprovados","Pendentes","Cancelados"],datasets:[{label:"Pedidos",data:[s,i,c],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}};window.Tabs[I].$form?e():$(document).one("form-"+I,e)}();