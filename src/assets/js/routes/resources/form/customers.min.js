!function(){"use strict";var _=window.tabId,n=window.Tabs[_],y=n.commit,w=function(){return n.data},e=function(){var n=$("#t"+_+"-info-customer"),e=n.find("#t"+_+"-registry-type").find('input[name="registry_type"]'),a=n.find("#t"+_+"-physical"),t=n.find("#t"+_+"-juridical"),i=n.find("#t"+_+"-inscription-number"),o=n.find("#t"+_+"-birth-date").find("#t"+_+"-birth"),d=$("#t"+_+"-info-personal").find("#t"+_+"-full-name"),r=n.find("#t"+_+"-telephone"),l=a.find("#t"+_+"-cpf"),c=t.find("#t"+_+"-cnpj");e.change(function(){"p"===this.value?(a.show(),t.hide(),i.hide()):(a.hide(),t.show(),i.show())}),l.change(function(){var n=w(),e=l.val().replace(/(\d{3}).(\d{3}).(\d{3})-(\d{2})/,"$1$2$3$4");console.log(e),n.doc_number=e,y(n,!0)}),c.change(function(){var n=w(),e=c.val().replace(/(\d{2}).(\d{3}).(\d{3})\/(\d{4})-(\d{2})/,"$1$2$3$4$5");console.log(e),n.doc_number=e,y(n,!0)}),d.change(function(){var n=w(),e=d.val().split(" "),a=e.length;if(0<a){for(var t=e[0],i=e[a-1],r="",o=1;o<e.length-1;o++)""!==r&&(r+=" "),r+=e[o];n.hasOwnProperty("name")||(n.name={}),n.name.given_name=t,n.name.family_name=i,n.name.middle_name=r,y(n,!0)}else n.name={},y(n,!0)});var f=w();if(f.name){var h=f.name.given_name+" "+f.name.middle_name+" "+f.name.family_name;d.val(h)}if(f.birth_date){var m=f.birth_date.day+"/"+f.birth_date.month+"/"+f.birth_date.year;o.val(m)}if(f.phones){for(var s=f.phones,p=[],v=0;v<s.length;v++)p.push(s[v].number);var u=p.length;if(1<u){var g=p[u-1];r.val(g)}if(1===u){var b=p[u-1];r.val(b)}}r.change(function(){var n=w(),e=n.phones.length,a=r.val().replace("(","").replace(")","").replace("-","").replace(" ","").replace(" ","");0===e&&(n.phones[0].number=a,y(n,!0)),0<e&&(n.phones[e].number=a,y(n,!0))}),o.change(function(){var n=w(),e=o.val().split(/(\d{2})\/(\d{2})\/(\d{4})/);console.log(e);var a=e.filter(String),t=parseInt(a[0]);console.log(t);var i=parseInt(a[1]);console.log(i);var r=parseInt(a[2]);console.log(r),n.birth_date.day=t,n.birth_date.month=i,n.birth_date.year=r,y(n,!0)}),a.find("#t"+_+"-cpf").inputmask("999.999.999-99"),t.find("#t"+_+"-cnpj").inputmask("99.999.999/9999-99")};n.$form?e():$(document).one("form-"+_,e)}();