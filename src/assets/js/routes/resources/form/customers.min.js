!function(){"use strict";var P=window.lang,j=window.tabId,A=window.Tabs[j],O=A.commit,x=function(){return A.data},a=function(){var a=$("#t"+j+"-info-customer"),n=a.find("#t"+j+"-registry-type").find('input[name="registry_type"]'),t=a.find("#t"+j+"-physical"),e=a.find("#t"+j+"-juridical"),s=a.find("#t"+j+"-inscription-number"),i=a.find("#t"+j+"-birth-date").find("#t"+j+"-birth"),p=$("#t"+j+"-info-personal").find("#t"+j+"-full-name"),d=t.find("#t"+j+"-cpf"),r=e.find("#t"+j+"-cnpj"),o=a.find("#t"+j+"-groupPhones"),l=0,c=$("#t"+j+"-staff-notes").find("#t"+j+"-note"),f=$("#t"+j+"-abstract"),u=f.find("#t"+j+"-personalAbs"),h=f.find("#t"+j+"-statisAbs"),m=function(a){var n=$("<div />",{class:"input-group pb-10",html:[$("<div />",{class:"input-group-prepend",html:[$("<button>",{class:"btn btn-light delete-options",html:[$("<i />",{class:"fa fa-trash"})]})]}),$("<input>",{class:"form-control country-code",type:"tel",name:"phones[]."+l+".country_code","data-is-number":"true"}),$("<input>",{class:"form-control w-120px",type:"tel",name:"phones[]."+l+".number","data-mask":"tel","data-numeric-string":"true"})]});o.append(n),l++,handleInputs(n,A.inputToData),setupInputValues(n,w[k].number,"phones.")};n.change(function(){"p"===this.value?(t.show(),e.hide(),s.hide()):(t.hide(),e.show(),s.show())}),d.change(function(){var a=x(),n=d.val().replace(/(\d{3}).(\d{3}).(\d{3})-(\d{2})/,"$1$2$3$4");console.log(n),a.doc_number=n,O(a,!0)}),r.change(function(){var a=x(),n=r.val().replace(/(\d{2}).(\d{3}).(\d{3})\/(\d{4})-(\d{2})/,"$1$2$3$4$5");console.log(n),a.doc_number=n,O(a,!0)}),p.change(function(){var a=x(),n=p.val().split(" "),t=n.length;if(0<t){for(var e=n[0],s=n[t-1],i="",d=1;d<n.length-1;d++)""!==i&&(i+=" "),i+=n[d];a.hasOwnProperty("name")||(a.name={}),a.name.given_name=e,a.name.family_name=s,a.name.middle_name=i,O(a,!0)}else a.name={},O(a,!0)});var g=x();if(g.name){var _=g.name.given_name+" "+g.name.middle_name+" "+g.name.family_name;p.val(_)}if(g.birth_date){var b=g.birth_date.day,v=g.birth_date.month;if(console.log(g.locale),g.birth_date.day<10&&(b="0"+g.birth_date.day),g.birth_date.month<10&&(v="0"+g.birth_date.month),"pt_br"===P){var y=b+"/"+v+"/"+g.birth_date.year;i.val(y)}else y=v+"/"+b+"/"+g.birth_date.year,i.val(y)}if(g.phones)for(var w=g.phones,k=0;k<w.length;k++)m();g.staff_notes&&c.val(g.staff_notes),i.change(function(){var a=x(),n=i.val().split(/(\d{2})\/(\d{2})\/(\d{4})/).filter(String);if("pt_br"===P){var t=parseInt(n[0]),e=parseInt(n[1]),s=parseInt(n[2]);a.birth_date.day=t,a.birth_date.month=e,a.birth_date.year=s}else t=parseInt(n[1]),e=parseInt(n[0]),s=parseInt(n[2]),a.birth_date.day=t,a.birth_date.month=e,a.birth_date.year=s;O(a,!0)}),t.find("#t"+j+"-cpf").inputmask("999.999.999-99"),e.find("#t"+j+"-cnpj").inputmask("99.999.999/9999-99"),o.find(".country-code").inputmask("+99"),$("#t"+j+"-add-option").click(function(){m()}),o.find(".delete-options").click(function(){var a=x();if(a.phones)for(var n=0;n<a.phones.length;n++)a.phones[n]&&a.phones.splice(1,n);$(this).closest("button").parent().parent().slideUp(400,function(){$(this).remove()}),O(a,!0)});var I=$("#t"+j+"-order-shipping");if(handleNestedObjects(x,O,I,$("#t"+j+"-add-shipping"),$("#t"+j+"-delete-shipping"),$("#t"+j+"-next-shipping"),"addresses",function(a){var n,t=x();if(t.addresses)for(var e=0;e<t.addresses.length;e++){if(t.addresses[e].default){n=t.addresses[e];break}n||(n=t.addresses[0])}a.zip=Object.assign({zip:"00000000"},n),delete a.zip.default,delete a.zip._id}),$("div[data-link-collapse]").each(function(){var a=$(this),t=a.children("div"),e=a.children("em"),n=function(){var n="";t.find("input").each(function(){var a=$(this).val();("string"==typeof a&&""!==a.trim()||"number"==typeof a)&&(n+=a+", ")}),e.text(n.slice(0,-2))};a.children("a").click(function(){t.slideToggle("slow"),n(),e.slideToggle()}),n()}),c.change(function(){var a=x(),n=c.val();a.staff_notes=n,O(a,!0)}),"f"===g.gender)var N='<span class="i18n">       <span data-lang="en_us">Female</span>       <span data-lang="pt_br">Feminino</span>      </span> ';else"m"===g.gender&&(N='<span class="i18n">       <span data-lang="en_us">Male</span>       <span data-lang="pt_br">Masculino</span>      </span> ');"x"===g.gender&&(N='<span class="i18n">       <span data-lang="en_us">Others</span>       <span data-lang="pt_br">Outros</span>      </span> '),u.append('<span class="i18n">       <span data-lang="en_us">Name</span>       <span data-lang="pt_br">Nome</span>      </span>: '+_+'<br><span class="i18n">       <span data-lang="en_us">Birth Date</span>       <span data-lang="pt_br">Data de Nascimento</span>      </span>: '+y+'<br><span class="i18n">       <span data-lang="en_us">Gender</span>       <span data-lang="pt_br">GÃªnero</span>      </span>: '+N+'<br><span class="i18n">       <span data-lang="en_us">CPF/CNPJ</span>       <span data-lang="pt_br">CPF/CNPJ</span>      </span>: '+g.doc_number),h.append('<span class="i18n">       <span data-lang="en_us">Number of orders</span>       <span data-lang="pt_br">Quantidade de pedidos</span>      </span>: '+g.orders_count+'<br><span class="i18n">       <span data-lang="en_us">Amount of money in order: $</span>       <span data-lang="pt_br">Valor total de pedidos: R$</span>      </span>'+g.orders_total_value+'<br><span class="i18n">       <span data-lang="en_us">Amount of money spent: $</span>       <span data-lang="pt_br">Valor total de pedidos aprovados: R$</span>      </span>'+g.total_spent+'<br><span class="i18n">       <span data-lang="en_us">Amount of money cancelled: $</span>       <span data-lang="pt_br">Valor total de pedidos cancelados: R$</span>      </span>'+g.total_cancelled)};A.$form?a():$(document).one("form-"+j,a)}();