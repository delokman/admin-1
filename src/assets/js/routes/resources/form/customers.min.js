!function(){"use strict";var b=window.tabId,g=window.Tabs[b],y=g.commit,_=function(){return g.data},n=function(){var n=$("#t"+b+"-info-customer"),t=n.find("#t"+b+"-registry-type").find('input[name="registry_type"]'),e=n.find("#t"+b+"-physical"),a=n.find("#t"+b+"-juridical"),i=n.find("#t"+b+"-inscription-number"),o=n.find("#t"+b+"-birth-date").find("#t"+b+"-birth"),d=$("#t"+b+"-info-personal").find("#t"+b+"-full-name"),r=e.find("#t"+b+"-cpf"),s=a.find("#t"+b+"-cnpj"),p=n.find("#t"+b+"-groupPhones"),c=0,l=function(n){var t=$("<div />",{class:"input-group pb-10",html:[$("<div />",{class:"input-group-prepend",html:[$("<button>",{class:"btn btn-light delete-options",html:[$("<i />",{class:"fa fa-trash"})]})]}),$("<input>",{class:"form-control country-code",type:"tel",name:"phones[]."+c+".country_code","data-is-number":"true"}),$("<input>",{class:"form-control w-120px",type:"tel",name:"phones[]."+c+".number","data-mask":"tel","data-numeric-string":"true"})]});p.append(t),c++,handleInputs(t,g.inputToData),setupInputValues(t,h[v].number,"phones.")};t.change(function(){"p"===this.value?(e.show(),a.hide(),i.hide()):(e.hide(),a.show(),i.show())}),r.change(function(){var n=_(),t=r.val().replace(/(\d{3}).(\d{3}).(\d{3})-(\d{2})/,"$1$2$3$4");console.log(t),n.doc_number=t,y(n,!0)}),s.change(function(){var n=_(),t=s.val().replace(/(\d{2}).(\d{3}).(\d{3})\/(\d{4})-(\d{2})/,"$1$2$3$4$5");console.log(t),n.doc_number=t,y(n,!0)}),d.change(function(){var n=_(),t=d.val().split(" "),e=t.length;if(0<e){for(var a=t[0],i=t[e-1],o="",r=1;r<t.length-1;r++)""!==o&&(o+=" "),o+=t[r];n.hasOwnProperty("name")||(n.name={}),n.name.given_name=a,n.name.family_name=i,n.name.middle_name=o,y(n,!0)}else n.name={},y(n,!0)});var f=_();if(f.name){var m=f.name.given_name+" "+f.name.middle_name+" "+f.name.family_name;d.val(m)}if(f.birth_date){var u=f.birth_date.day+"/"+f.birth_date.month+"/"+f.birth_date.year;o.val(u)}if(f.phones)for(var h=f.phones,v=0;v<h.length;v++)l();o.change(function(){var n=_(),t=o.val().split(/(\d{2})\/(\d{2})\/(\d{4})/).filter(String),e=parseInt(t[0]),a=parseInt(t[1]),i=parseInt(t[2]);n.birth_date.day=e,n.birth_date.month=a,n.birth_date.year=i,y(n,!0)}),e.find("#t"+b+"-cpf").inputmask("999.999.999-99"),a.find("#t"+b+"-cnpj").inputmask("99.999.999/9999-99"),p.find(".country-code").inputmask("+99"),$("#t"+b+"-add-option").click(function(){l()}),p.find(".delete-options").click(function(){var n=_();if(n.phones)for(var t=0;t<n.phones.length;t++)n.phones[t]&&n.phones.splice(1,t);$(this).closest("button").parent().parent().slideUp(400,function(){$(this).remove()}),y(n,!0)})};g.$form?n():$(document).one("form-"+b,n)}();